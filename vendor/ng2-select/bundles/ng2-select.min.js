System.registerDynamic("ng2-select/components/select",["./select/select"],!0,function($__require,exports,module){"use strict";var select_1=$__require("./select/select");return exports.SELECT_DIRECTIVES=[select_1.SelectComponent],module.exports}),System.registerDynamic("ng2-select/components/select/select-item",[],!0,function($__require,exports,module){"use strict";var SelectItem=function(){function SelectItem(source){var _this=this;"string"==typeof source&&(this.id=this.text=source),"object"==typeof source&&(this.id=source.id||source.text,this.text=source.text,source.children&&source.text&&(this.children=source.children.map(function(c){var r=new SelectItem(c);return r.parent=_this,r}),this.text=source.text))}return SelectItem.prototype.fillChildrenHash=function(optionsMap,startIndex){var i=startIndex;return this.children.map(function(child){optionsMap.set(child.id,i++)}),i},SelectItem.prototype.hasChildren=function(){return this.children&&this.children.length>0},SelectItem.prototype.getSimilar=function(){var r=new SelectItem(!1);return r.id=this.id,r.text=this.text,r.parent=this.parent,r},SelectItem}();return exports.SelectItem=SelectItem,module.exports}),System.registerDynamic("ng2-select/components/select/select-pipes",["@angular/core","./common"],!0,function($__require,exports,module){"use strict";function stripTags(input){var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return input.replace(commentsAndPhpTags,"").replace(tags,"")}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("@angular/core"),common_1=$__require("./common"),HighlightPipe=function(){function HighlightPipe(){}return HighlightPipe.prototype.transform=function(value,args){if(args.length<1)return value;var query=args[0];if(query){var tagRE=new RegExp("<[^<>]*>","ig"),tagList=value.match(tagRE),tmpValue=value.replace(tagRE,"$!$");value=tmpValue.replace(new RegExp(common_1.escapeRegexp(query),"gi"),"<strong>$&</strong>");for(var i=0;value.indexOf("$!$")>-1;i++)value=value.replace("$!$",tagList[i])}return value},HighlightPipe=__decorate([core_1.Pipe({name:"highlight"}),__metadata("design:paramtypes",[])],HighlightPipe)}();return exports.HighlightPipe=HighlightPipe,exports.stripTags=stripTags,module.exports}),System.registerDynamic("ng2-select/components/select/common",[],!0,function($__require,exports,module){"use strict";function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return exports.escapeRegexp=escapeRegexp,module.exports}),System.registerDynamic("ng2-select/components/select/off-click",["@angular/core"],!0,function($__require,exports,module){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("@angular/core"),OffClickDirective=function(){function OffClickDirective(){}return OffClickDirective.prototype.onClick=function($event){$event.stopPropagation()},OffClickDirective.prototype.ngOnInit=function(){var _this=this;setTimeout(function(){document.addEventListener("click",_this.offClickHandler)},0)},OffClickDirective.prototype.ngOnDestroy=function(){document.removeEventListener("click",this.offClickHandler)},__decorate([core_1.Input("offClick"),__metadata("design:type",Object)],OffClickDirective.prototype,"offClickHandler",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[MouseEvent]),__metadata("design:returntype",void 0)],OffClickDirective.prototype,"onClick",null),OffClickDirective=__decorate([core_1.Directive({selector:"[offClick]"}),__metadata("design:paramtypes",[])],OffClickDirective)}();return exports.OffClickDirective=OffClickDirective,module.exports}),System.registerDynamic("ng2-select/components/select/select",["@angular/core","./select-item","./select-pipes","./common","./off-click"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("@angular/core"),select_item_1=$__require("./select-item"),select_pipes_1=$__require("./select-pipes"),common_1=$__require("./common"),off_click_1=$__require("./off-click"),optionsTemplate='\n    <ul *ngIf="optionsOpened && options && options.length > 0 && !firstItemHasChildren"\n        class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu">\n      <li class="ui-select-choices-group">\n        <div *ngFor="let o of options"\n             class="ui-select-choices-row"\n             [class.active]="isActive(o)"\n             (mouseenter)="selectActive(o)"\n             (click)="selectMatch(o, $event)">\n          <a href="javascript:void(0)" class="ui-select-choices-row-inner">\n            <div [innerHtml]="o.text | highlight:inputValue"></div>\n          </a>\n        </div>\n      </li>\n    </ul>\n\n    <ul *ngIf="optionsOpened && options && options.length > 0 && firstItemHasChildren"\n        class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu">\n      <li *ngFor="let c of options; let index=index" class="ui-select-choices-group">\n        <div class="divider" *ngIf="index > 0"></div>\n        <div class="ui-select-choices-group-label dropdown-header">{{c.text}}</div>\n\n        <div *ngFor="let o of c.children"\n             class="ui-select-choices-row"\n             [class.active]="isActive(o)"\n             (mouseenter)="selectActive(o)"\n             (click)="selectMatch(o, $event)"\n             [ngClass]="{\'active\': isActive(o)}">\n          <a href="javascript:void(0)" class="ui-select-choices-row-inner">\n            <div [innerHtml]="o.text | highlight:inputValue"></div>\n          </a>\n        </div>\n      </li>\n    </ul>\n',SelectComponent=function(){function SelectComponent(element){this.allowClear=!1,this.placeholder="",this.initData=[],this.multiple=!1,this.data=new core_1.EventEmitter,this.selected=new core_1.EventEmitter,this.removed=new core_1.EventEmitter,this.typed=new core_1.EventEmitter,this.options=[],this.itemObjects=[],this.active=[],this.inputMode=!1,this.optionsOpened=!1,this.inputValue="",this._items=[],this._disabled=!1,this.element=element,this.clickedOutside=this.clickedOutside.bind(this)}return Object.defineProperty(SelectComponent.prototype,"items",{set:function(value){this._items=value,this.itemObjects=this._items.map(function(item){return new select_item_1.SelectItem(item)})},enumerable:!0,configurable:!0}),Object.defineProperty(SelectComponent.prototype,"disabled",{set:function(value){this._disabled=value,this._disabled===!0&&this.hideOptions()},enumerable:!0,configurable:!0}),SelectComponent.prototype.inputEvent=function(e,isUpMode){if(void 0===isUpMode&&(isUpMode=!1),9!==e.keyCode){if(isUpMode&&(37===e.keyCode||39===e.keyCode||38===e.keyCode||40===e.keyCode||13===e.keyCode))return void e.preventDefault();if(!isUpMode&&8===e.keyCode){var el=this.element.nativeElement.querySelector("div.ui-select-container > input");(!el.value||el.value.length<=0)&&(this.active.length>0&&this.remove(this.active[this.active.length-1]),e.preventDefault())}return isUpMode||27!==e.keyCode?(isUpMode||46!==e.keyCode||(this.active.length>0&&this.remove(this.active[this.active.length-1]),e.preventDefault()),!isUpMode&&37===e.keyCode&&this._items.length>0?(this.behavior.first(),void e.preventDefault()):!isUpMode&&39===e.keyCode&&this._items.length>0?(this.behavior.last(),void e.preventDefault()):isUpMode||38!==e.keyCode?isUpMode||40!==e.keyCode?isUpMode||13!==e.keyCode?void(e.srcElement&&(this.inputValue=e.srcElement.value,this.behavior.filter(new RegExp(common_1.escapeRegexp(this.inputValue),"ig")),this.doEvent("typed",this.inputValue))):(-1===this.active.indexOf(this.activeOption)&&(this.selectActiveMatch(),this.behavior.next()),void e.preventDefault()):(this.behavior.next(),void e.preventDefault()):(this.behavior.prev(),void e.preventDefault())):(this.hideOptions(),this.element.nativeElement.children[0].focus(),void e.preventDefault())}},SelectComponent.prototype.ngOnInit=function(){this.behavior=this.firstItemHasChildren?new ChildrenBehavior(this):new GenericBehavior(this),this.initData&&(this.active=this.initData.map(function(data){return new select_item_1.SelectItem(data)}),this.data.emit(this.active))},SelectComponent.prototype.remove=function(item){if(this._disabled!==!0){if(this.multiple===!0&&this.active){var index=this.active.indexOf(item);this.active.splice(index,1),this.data.next(this.active),this.doEvent("removed",item)}this.multiple===!1&&(this.active=[],this.data.next(this.active),this.doEvent("removed",item))}},SelectComponent.prototype.doEvent=function(type,value){this[type]&&value&&this[type].next(value)},SelectComponent.prototype.clickedOutside=function(){this.inputMode=!1,this.optionsOpened=!1},Object.defineProperty(SelectComponent.prototype,"firstItemHasChildren",{get:function(){return this.itemObjects[0]&&this.itemObjects[0].hasChildren()},enumerable:!0,configurable:!0}),SelectComponent.prototype.matchClick=function(e){this._disabled!==!0&&(this.inputMode=!this.inputMode,this.inputMode===!0&&(this.multiple===!0&&e||this.multiple===!1)&&(this.focusToInput(),this.open()))},SelectComponent.prototype.mainClick=function(event){if(this.inputMode!==!0&&this._disabled!==!0){if(46===event.keyCode)return event.preventDefault(),void this.inputEvent(event);if(8===event.keyCode)return event.preventDefault(),void this.inputEvent(event,!0);if(9===event.keyCode||13===event.keyCode||27===event.keyCode||event.keyCode>=37&&event.keyCode<=40)return void event.preventDefault();this.inputMode=!0;var value=String.fromCharCode(96<=event.keyCode&&event.keyCode<=105?event.keyCode-48:event.keyCode).toLowerCase();this.focusToInput(value),this.open(),event.srcElement.value=value,this.inputEvent(event)}},SelectComponent.prototype.selectActive=function(value){this.activeOption=value},SelectComponent.prototype.isActive=function(value){return this.activeOption.text===value.text},SelectComponent.prototype.focusToInput=function(value){var _this=this;void 0===value&&(value=""),setTimeout(function(){var el=_this.element.nativeElement.querySelector("div.ui-select-container > input");el&&(el.focus(),el.value=value)},0)},SelectComponent.prototype.open=function(){var _this=this;this.options=this.itemObjects.filter(function(option){return _this.multiple===!1||_this.multiple===!0&&!_this.active.find(function(o){return option.text===o.text})}),this.options.length>0&&this.behavior.first(),this.optionsOpened=!0},SelectComponent.prototype.hideOptions=function(){this.inputMode=!1,this.optionsOpened=!1},SelectComponent.prototype.selectActiveMatch=function(){this.selectMatch(this.activeOption)},SelectComponent.prototype.selectMatch=function(value,e){void 0===e&&(e=void 0),e&&(e.stopPropagation(),e.preventDefault()),this.options.length<=0||(this.multiple===!0&&(this.active.push(value),this.data.next(this.active)),this.multiple===!1&&(this.active[0]=value,this.data.next(this.active[0])),this.doEvent("selected",value),this.hideOptions(),this.multiple===!0?this.focusToInput(""):(this.focusToInput(select_pipes_1.stripTags(value.text)),this.element.nativeElement.querySelector(".ui-select-container").focus()))},__decorate([core_1.Input(),__metadata("design:type",Boolean)],SelectComponent.prototype,"allowClear",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SelectComponent.prototype,"placeholder",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],SelectComponent.prototype,"initData",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],SelectComponent.prototype,"multiple",void 0),__decorate([core_1.Input(),__metadata("design:type",Array),__metadata("design:paramtypes",[Array])],SelectComponent.prototype,"items",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],SelectComponent.prototype,"disabled",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SelectComponent.prototype,"data",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SelectComponent.prototype,"selected",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SelectComponent.prototype,"removed",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SelectComponent.prototype,"typed",void 0),SelectComponent=__decorate([core_1.Component({selector:"ng-select",directives:[off_click_1.OffClickDirective],pipes:[select_pipes_1.HighlightPipe],template:'\n  <div tabindex="0"\n     *ngIf="multiple === false"\n     (keyup)="mainClick($event)"\n     [offClick]="clickedOutside"\n     class="ui-select-container ui-select-bootstrap dropdown open">\n    <div [ngClass]="{\'ui-disabled\': disabled}"></div>\n    <div class="ui-select-match"\n         *ngIf="!inputMode">\n      <span tabindex="-1"\n          class="btn btn-default btn-secondary form-control ui-select-toggle"\n          (click)="matchClick($event)"\n          style="outline: 0;">\n        <span *ngIf="active.length <= 0" class="ui-select-placeholder text-muted">{{placeholder}}</span>\n        <span *ngIf="active.length > 0" class="ui-select-match-text pull-left"\n              [ngClass]="{\'ui-select-allow-clear\': allowClear && active.length > 0}"\n              [innerHTML]="active[0].text"></span>\n        <i class="dropdown-toggle pull-right"></i>\n        <i class="caret pull-right"></i>\n        <a *ngIf="allowClear && active.length>0" style="margin-right: 10px; padding: 0;"\n          (click)="remove(activeOption)" class="btn btn-xs btn-link pull-right">\n          <i class="glyphicon glyphicon-remove"></i>\n        </a>\n      </span>\n    </div>\n    <input type="text" autocomplete="false" tabindex="-1"\n           (keydown)="inputEvent($event)"\n           (keyup)="inputEvent($event, true)"\n           [disabled]="disabled"\n           class="form-control ui-select-search"\n           *ngIf="inputMode"\n           placeholder="{{active.length <= 0 ? placeholder : \'\'}}">\n      '+optionsTemplate+'\n  </div>\n\n  <div tabindex="0"\n     *ngIf="multiple === true"\n     (keyup)="mainClick($event)"\n     (focus)="focusToInput(\'\')"\n     class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control open">\n    <div [ngClass]="{\'ui-disabled\': disabled}"></div>\n    <span class="ui-select-match">\n        <span *ngFor="let a of active">\n            <span class="ui-select-match-item btn btn-default btn-secondary btn-xs"\n                  tabindex="-1"\n                  type="button"\n                  [ngClass]="{\'btn-default\': true}">\n               <a class="close ui-select-match-close"\n                  (click)="remove(a)">&nbsp;&times;</a>\n               <span>{{a.text}}</span>\n           </span>\n        </span>\n    </span>\n    <input type="text"\n           (keydown)="inputEvent($event)"\n           (keyup)="inputEvent($event, true)"\n           (click)="matchClick($event)"\n           [disabled]="disabled"\n           autocomplete="false"\n           autocorrect="off"\n           autocapitalize="off"\n           spellcheck="false"\n           class="ui-select-search input-xs"\n           placeholder="{{active.length <= 0 ? placeholder : \'\'}}"\n           role="combobox">\n    '+optionsTemplate+"\n  </div>\n  "}),__metadata("design:paramtypes",[core_1.ElementRef])],SelectComponent)}();exports.SelectComponent=SelectComponent;var Behavior=function(){function Behavior(actor){this.optionsMap=new Map,this.actor=actor}return Behavior.prototype.fillOptionsMap=function(){var _this=this;this.optionsMap.clear();var startPos=0;this.actor.itemObjects.map(function(item){startPos=item.fillChildrenHash(_this.optionsMap,startPos)})},Behavior.prototype.ensureHighlightVisible=function(optionsMap){void 0===optionsMap&&(optionsMap=void 0);var container=this.actor.element.nativeElement.querySelector(".ui-select-choices-content");if(container){var choices=container.querySelectorAll(".ui-select-choices-row");if(!(choices.length<1)){var activeIndex=this.getActiveIndex(optionsMap);if(!(0>activeIndex)){var highlighted=choices[activeIndex];if(highlighted){var posY=highlighted.offsetTop+highlighted.clientHeight-container.scrollTop,height=container.offsetHeight;posY>height?container.scrollTop+=posY-height:posY<highlighted.clientHeight&&(container.scrollTop-=highlighted.clientHeight-posY)}}}}},Behavior.prototype.getActiveIndex=function(optionsMap){void 0===optionsMap&&(optionsMap=void 0);var ai=this.actor.options.indexOf(this.actor.activeOption);return 0>ai&&void 0!==optionsMap&&(ai=optionsMap.get(this.actor.activeOption.id)),ai},Behavior}();exports.Behavior=Behavior;var GenericBehavior=function(_super){function GenericBehavior(actor){_super.call(this,actor)}return __extends(GenericBehavior,_super),GenericBehavior.prototype.first=function(){this.actor.activeOption=this.actor.options[0],_super.prototype.ensureHighlightVisible.call(this)},GenericBehavior.prototype.last=function(){this.actor.activeOption=this.actor.options[this.actor.options.length-1],_super.prototype.ensureHighlightVisible.call(this)},GenericBehavior.prototype.prev=function(){var index=this.actor.options.indexOf(this.actor.activeOption);this.actor.activeOption=this.actor.options[0>index-1?this.actor.options.length-1:index-1],_super.prototype.ensureHighlightVisible.call(this)},GenericBehavior.prototype.next=function(){var index=this.actor.options.indexOf(this.actor.activeOption);this.actor.activeOption=this.actor.options[index+1>this.actor.options.length-1?0:index+1],_super.prototype.ensureHighlightVisible.call(this)},GenericBehavior.prototype.filter=function(query){var _this=this,options=this.actor.itemObjects.filter(function(option){return select_pipes_1.stripTags(option.text).match(query)&&(_this.actor.multiple===!1||_this.actor.multiple===!0&&_this.actor.active.indexOf(option)<0)});this.actor.options=options,this.actor.options.length>0&&(this.actor.activeOption=this.actor.options[0],_super.prototype.ensureHighlightVisible.call(this))},GenericBehavior}(Behavior);exports.GenericBehavior=GenericBehavior;var ChildrenBehavior=function(_super){function ChildrenBehavior(actor){_super.call(this,actor)}return __extends(ChildrenBehavior,_super),ChildrenBehavior.prototype.first=function(){this.actor.activeOption=this.actor.options[0].children[0],this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},ChildrenBehavior.prototype.last=function(){this.actor.activeOption=this.actor.options[this.actor.options.length-1].children[this.actor.options[this.actor.options.length-1].children.length-1],this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},ChildrenBehavior.prototype.prev=function(){var _this=this,indexParent=this.actor.options.findIndex(function(option){return _this.actor.activeOption.parent&&_this.actor.activeOption.parent.id===option.id}),index=this.actor.options[indexParent].children.findIndex(function(option){return _this.actor.activeOption&&_this.actor.activeOption.id===option.id});this.actor.activeOption=this.actor.options[indexParent].children[index-1],this.actor.activeOption||this.actor.options[indexParent-1]&&(this.actor.activeOption=this.actor.options[indexParent-1].children[this.actor.options[indexParent-1].children.length-1]),this.actor.activeOption||this.last(),this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},ChildrenBehavior.prototype.next=function(){var _this=this,indexParent=this.actor.options.findIndex(function(option){return _this.actor.activeOption.parent&&_this.actor.activeOption.parent.id===option.id}),index=this.actor.options[indexParent].children.findIndex(function(option){return _this.actor.activeOption&&_this.actor.activeOption.id===option.id});this.actor.activeOption=this.actor.options[indexParent].children[index+1],this.actor.activeOption||this.actor.options[indexParent+1]&&(this.actor.activeOption=this.actor.options[indexParent+1].children[0]),this.actor.activeOption||this.first(),this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},ChildrenBehavior.prototype.filter=function(query){for(var options=[],optionsMap=new Map,startPos=0,_i=0,_a=this.actor.itemObjects;_i<_a.length;_i++){var si=_a[_i],children=si.children.filter(function(option){return query.test(option.text)});if(startPos=si.fillChildrenHash(optionsMap,startPos),children.length>0){var newSi=si.getSimilar();newSi.children=children,options.push(newSi)}}this.actor.options=options,this.actor.options.length>0&&(this.actor.activeOption=this.actor.options[0].children[0],_super.prototype.ensureHighlightVisible.call(this,optionsMap))},ChildrenBehavior}(Behavior);return exports.ChildrenBehavior=ChildrenBehavior,module.exports}),System.registerDynamic("ng2-select/ng2-select",["./components/select","./components/select/select"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var select_1=$__require("./components/select");return __export($__require("./components/select/select")),__export($__require("./components/select")),Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={directives:[select_1.SELECT_DIRECTIVES]},module.exports});
//# sourceMappingURL=ng2-select.min.js.map