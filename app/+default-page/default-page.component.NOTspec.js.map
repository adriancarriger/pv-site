{"version":3,"file":"default-page.component.NOTspec.js","sourceRoot":"","sources":["../../Users/adriancarriger/pv/site/tmp/broccoli_type_script_compiler-input_base_path-q8wR28Kh.tmp/0/src/app/+default-page/default-page.component.NOTspec.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAwFE","sourcesContent":["/*\nimport {\n  beforeEach,\n  beforeEachProviders,\n  describe,\n  expect,\n  it,\n  inject,\n} from '@angular/core/testing';\nimport { TestComponentBuilder } from '@angular/compiler/testing';\n// import { Component } from '@angular/core';\nimport { provide } from '@angular/core';\nimport { DefaultPageComponent } from './default-page.component';\nimport {AppApiService} from '../services/app-api.service';\nimport { ROUTER_FAKE_PROVIDERS } from '@angular/router/testing';\nimport { RouteSegment } from '@angular/router';\n\ndescribe('Component: DefaultPage', () => {\n  let builder;\n  let mockAppApiService;\n\n  beforeEachProviders(() => [\n    ROUTER_FAKE_PROVIDERS,\n    provide(AppApiService, {useValue: mockAppApiService}),\n    provide(RouteSegment, {useClass: MockRouteSegment}),\n    DefaultPageComponent\n  ]);\n\n  beforeEach(inject([TestComponentBuilder], tcb => {\n    builder = tcb;\n    mockAppApiService = new MockAppApiService();\n  }));\n\n  it('should inject the component', inject([DefaultPageComponent],\n      (component: DefaultPageComponent) => {\n    expect(component).toBeTruthy();\n  }));\n\n  it('should build the component', done => {\n    return builder\n      .overrideProviders(DefaultPageComponent, [\n        provide(AppApiService, {useValue: mockAppApiService}),\n        provide(RouteSegment, {useClass: MockRouteSegment})\n      ])\n      .createAsync(DefaultPageComponent).then(fixture => {\n      fixture.debugElement.componentInstance.ngOnInit().then(() => {\n        let nativeElement = fixture.nativeElement;\n        fixture.detectChanges();\n        let imageTitle = nativeElement\n          .querySelector('.container-image h1').innerHTML;\n        expect(imageTitle).toBe('Test Title');\n        done();\n      });\n\n    })\n    .catch(e => done.fail(e));\n  });\n\n});\n\nclass MockRouteSegment {\n  public urlSegments = [{\n    segment: 'test-category-1'\n  }];\n  getParam(param) {\n    return 'test-slug-1';\n  }\n}\nclass MockAppApiService extends AppApiService {\n  constructor() {\n    super(null, null, null);\n  }\n  get(ignoredRequest) {\n    let testData = {\n        'image_small': '/app/assets/test-pattern-5.jpg',\n        'image_medium': '/app/assets/test-pattern-5.jpg',\n        'image_large': '/app/assets/test-pattern-5.jpg',\n        'image_x_large': '/app/assets/test-pattern-5.jpg',\n        'title': 'Test Title',\n        'first_section': {\n            'title': 'Bible Studies',\n            'quote': '\\'As iron sharpens iron, so one man sharpens another.\\' - Proverbs 27:17',\n            'content': 'Test content here.'\n        }\n    };\n    return Promise.resolve(testData);\n  }\n}\n*/\n"]}