{"version":3,"file":"sermons-page.component.js","sourceRoot":"","sources":["../../src/app/+sermons-page/sermons-page.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HeaderDefaultComponent } from '../components/header-default/index';\nimport { FilterDefaultComponent } from '../components/filter-default/index';\nimport { SermonsListComponent } from '../components/sermons-list/index';\nimport { ApiObservableService } from '../services/api-observable.service';\nimport { AudioService } from '../services/audio.service';\n\n/*\nlet tempImage = // Will connect to api soon \n  'http://pvbiblechurch.com/wp-content' + // Avoid max line length (temp)\n  '/uploads/mp/image-cache/site/8' +\n  '/ipod-headphones-1920x1080.414acded74a4af3f514ff36e41045e5b.jpg';\n  */\n\nlet tempImage = '/app/assets/sermons.jpeg';\n\n@Component({\n  moduleId: module.id,\n  selector: 'as-sermons-page',\n  templateUrl: 'sermons-page.component.html',\n  styleUrls: ['sermons-page.component.css'],\n  directives: [\n    HeaderDefaultComponent,\n    FilterDefaultComponent,\n    SermonsListComponent\n  ]\n})\nexport class SermonsPageComponent implements OnInit {\n  public currentAudio = {\n    id: 0,\n    playing: false\n  };\n  public latestSermon = {\n    id: 0\n  };\n  public info = {\n    image_small: tempImage,\n    image_medium: tempImage,\n    image_large: tempImage,\n    image_x_large: tempImage,\n    title: 'Sermons'\n  };\n  public filterInfo = {\n    defaults: {\n      box1: 'All books',\n      box2: 'All years',\n      box3: 'AM/PM',\n      alwaysSome: false\n    },\n    box1: [\n      'Genesis',         'Exodus',          'Leviticus',     'Numbers',\n      'Deuteronomy',     'Joshua',          'Judges',        'Ruth',\n      '1 Samuel',        '2 Samuel',        '1 Kings',       '2 Kings',\n      '1 Chronicles',    '2 Chronicles',    'Ezra',          'Nehemiah',\n      'Esther',          'Job',             'Psalm',         'Proverbs',\n      'Ecclesiastes',    'Song of Solomon', 'Isaiah',        'Jeremiah',\n      'Lamentations',    'Ezekiel',         'Daniel',        'Hosea',\n      'Joel',            'Amos',            'Obadiah',       'Jonah',\n      'Micah',           'Nahum',           'Habakkuk',      'Zephaniah',\n      'Haggai',          'Zechariah',       'Malachi',       'Matthew',\n      'Mark',            'Luke',            'John',          'Acts',\n      'Romans',          '1 Corinthians',   '2 Corinthians', 'Galatians',\n      'Ephesians',       'Philippians',     'Colossians',    '1 Thessalonians',\n      '2 Thessalonians', '1 Timothy',       '2 Timothy',     'Titus',\n      'Philemon',        'Hebrews',         'James',         '1 Peter',\n      '2 Peter',         '1 John',          '2 John',        '3 John',\n      'Jude',            'Revelation',      'Selected Scriptures'\n    ],\n    box2: [\n      '2016', '2015', '2014', '2013', '2012', '2011', '2010', '2009', '2008',\n      '2007', '2006', '2005', '2004'\n    ],\n    box3: ['AM', 'PM']\n  };\n  public sermons;\n  public lastChange;\n\n  constructor(\n    public apiObservableService: ApiObservableService,\n    public audioService: AudioService) {\n\n  }\n\n  ngOnInit() {\n    this.apiObservableService.sermons$\n    .subscribe(data => {\n      this.sermons =  Object.keys(data).map(function(key) {\n        let pair = {\n          key: undefined\n        };\n        pair = data[key];\n        pair.key = key;\n        return pair;\n      });\n    });\n\n    this.apiObservableService.loadSermons(true);\n\n    this.apiObservableService.observe({\n      type: 'general-meta'\n    })\n    .subscribe(data => {\n      this.filterInfo.box1 = data.books;\n      this.latestSermon = data.latestSermon;\n    });\n\n    this.audioService.currentAudio$.subscribe(data => {\n      this.updateChange();\n      this.currentAudio.playing = data.playing;\n      this.currentAudio.id = data.id;\n    });\n\n  }\n\n  updateChange() {\n    this.lastChange = new Date().getTime();\n  }\n\n  playLatest() {\n    window.scrollTo(0, 400);\n    this.audioService.play(this.latestSermon.id);\n  }\n\n  scrollY(distance, goal) {\n    if (distance <= 0) { return; }\n    setTimeout( () => {\n      window.scrollTo(0, goal - distance);\n      this.scrollY(distance - 75, goal);\n    }, 1);\n  }\n\n}\n\n\n\n"]}